(()=>{var t={669:(t,e,r)=>{t.exports=r(609)},448:(t,e,r)=>{"use strict";var n=r(867),a=r(26),s=r(327),o=r(97),i=r(109),c=r(985),p=r(61);t.exports=function(t){return new Promise((function(e,u){var h=t.data,d=t.headers;n.isFormData(h)&&delete d["Content-Type"];var l=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",w=t.auth.password||"";d.Authorization="Basic "+btoa(f+":"+w)}var m=o(t.baseURL,t.url);if(l.open(t.method.toUpperCase(),s(m,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,l.onreadystatechange=function(){if(l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in l?i(l.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:t,request:l};a(e,u,n),l=null}},l.onabort=function(){l&&(u(p("Request aborted",t,"ECONNABORTED",l)),l=null)},l.onerror=function(){u(p("Network Error",t,null,l)),l=null},l.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),u(p(e,t,"ECONNABORTED",l)),l=null},n.isStandardBrowserEnv()){var v=r(372),g=(t.withCredentials||c(m))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;g&&(d[t.xsrfHeaderName]=g)}if("setRequestHeader"in l&&n.forEach(d,(function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete d[e]:l.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),t.responseType)try{l.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){l&&(l.abort(),u(t),l=null)})),void 0===h&&(h=null),l.send(h)}))}},609:(t,e,r)=>{"use strict";var n=r(867),a=r(849),s=r(321),o=r(185);function i(t){var e=new s(t),r=a(s.prototype.request,e);return n.extend(r,s.prototype,e),n.extend(r,e),r}var c=i(r(655));c.Axios=s,c.create=function(t){return i(o(c.defaults,t))},c.Cancel=r(263),c.CancelToken=r(972),c.isCancel=r(502),c.all=function(t){return Promise.all(t)},c.spread=r(713),t.exports=c,t.exports.default=c},263:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},972:(t,e,r)=>{"use strict";var n=r(263);function a(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var t;return{token:new a((function(e){t=e})),cancel:t}},t.exports=a},502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,r)=>{"use strict";var n=r(867),a=r(327),s=r(782),o=r(572),i=r(185);function c(t){this.defaults=t,this.interceptors={request:new s,response:new s}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=i(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[o,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)r=r.then(e.shift(),e.shift());return r},c.prototype.getUri=function(t){return t=i(this.defaults,t),a(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,r){return this.request(n.merge(r||{},{method:t,url:e}))}})),n.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,r,a){return this.request(n.merge(a||{},{method:t,url:e,data:r}))}})),t.exports=c},782:(t,e,r)=>{"use strict";var n=r(867);function a(){this.handlers=[]}a.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},a.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},a.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=a},97:(t,e,r)=>{"use strict";var n=r(793),a=r(303);t.exports=function(t,e){return t&&!n(e)?a(t,e):e}},61:(t,e,r)=>{"use strict";var n=r(481);t.exports=function(t,e,r,a,s){var o=new Error(t);return n(o,e,r,a,s)}},572:(t,e,r)=>{"use strict";var n=r(867),a=r(527),s=r(502),o=r(655);function i(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return i(t),t.headers=t.headers||{},t.data=a(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return i(t),e.data=a(e.data,e.headers,t.transformResponse),e}),(function(e){return s(e)||(i(t),e&&e.response&&(e.response.data=a(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:t=>{"use strict";t.exports=function(t,e,r,n,a){return t.config=e,r&&(t.code=r),t.request=n,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},185:(t,e,r)=>{"use strict";var n=r(867);t.exports=function(t,e){e=e||{};var r={},a=["url","method","params","data"],s=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(a,(function(t){void 0!==e[t]&&(r[t]=e[t])})),n.forEach(s,(function(a){n.isObject(e[a])?r[a]=n.deepMerge(t[a],e[a]):void 0!==e[a]?r[a]=e[a]:n.isObject(t[a])?r[a]=n.deepMerge(t[a]):void 0!==t[a]&&(r[a]=t[a])})),n.forEach(o,(function(n){void 0!==e[n]?r[n]=e[n]:void 0!==t[n]&&(r[n]=t[n])}));var i=a.concat(s).concat(o),c=Object.keys(e).filter((function(t){return-1===i.indexOf(t)}));return n.forEach(c,(function(n){void 0!==e[n]?r[n]=e[n]:void 0!==t[n]&&(r[n]=t[n])})),r}},26:(t,e,r)=>{"use strict";var n=r(61);t.exports=function(t,e,r){var a=r.config.validateStatus;!a||a(r.status)?t(r):e(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},527:(t,e,r)=>{"use strict";var n=r(867);t.exports=function(t,e,r){return n.forEach(r,(function(r){t=r(t,e)})),t}},655:(t,e,r)=>{"use strict";var n=r(867),a=r(16),s={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var i,c={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(i=r(448)),i),transformRequest:[function(t,e){return a(e,"Accept"),a(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){c.headers[t]=n.merge(s)})),t.exports=c},849:t=>{"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},327:(t,e,r)=>{"use strict";var n=r(867);function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var s;if(r)s=r(e);else if(n.isURLSearchParams(e))s=e.toString();else{var o=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),o.push(a(e)+"="+a(t))})))})),s=o.join("&")}if(s){var i=t.indexOf("#");-1!==i&&(t=t.slice(0,i)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},372:(t,e,r)=>{"use strict";var n=r(867);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,a,s,o){var i=[];i.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),n.isString(a)&&i.push("path="+a),n.isString(s)&&i.push("domain="+s),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},985:(t,e,r)=>{"use strict";var n=r(867);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function a(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=a(window.location.href),function(e){var r=n.isString(e)?a(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},16:(t,e,r)=>{"use strict";var n=r(867);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},109:(t,e,r)=>{"use strict";var n=r(867),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,s,o={};return t?(n.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=n.trim(t.substr(0,s)).toLowerCase(),r=n.trim(t.substr(s+1)),e){if(o[e]&&a.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([r]):o[e]?o[e]+", "+r:r}})),o):o}},713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},867:(t,e,r)=>{"use strict";var n=r(849),a=Object.prototype.toString;function s(t){return"[object Array]"===a.call(t)}function o(t){return void 0===t}function i(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===a.call(t)}function p(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:i,isUndefined:o,isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:c,isStream:function(t){return i(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:p,merge:function t(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=t(e[n],r):e[n]=r}for(var n=0,a=arguments.length;n<a;n++)p(arguments[n],r);return e},deepMerge:function t(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=t(e[n],r):e[n]="object"==typeof r?t({},r):r}for(var n=0,a=arguments.length;n<a;n++)p(arguments[n],r);return e},extend:function(t,e,r){return p(e,(function(e,a){t[a]=r&&"function"==typeof e?n(e,r):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},281:(t,e,r)=>{const n=r(669);var a=1;function s(t){return t?t.split(" ").join("_"):t}t.exports={setApiKey(t){a=t},getTeamByName:async t=>(t=s(t),(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/searchteams.php?t=${t}`)).data),getTeamByShortCode:async t=>(t=s(t),(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/searchteams.php?sname=${t}`)).data),getAllPlayersByTeam:async t=>(t=s(t),(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/searchplayers.php?t=${t}`)).data),async getPlayerByName(t,e){t=s(t),e=s(e);var r=[];return r.push(`p=${t}`),e&&r.push(`t=${e}`),(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/searchplayers.php?${r.join("&")}`)).data},async getEventByName(t,e){t=s(t),e=s(e);var r=[];return r.push(`e=${t}`),e&&r.push(`s=${e}`),(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/searchevents.php?${r.join("&")}`)).data},getSportsList:async()=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/all_sports.php`)).data,getLeagueList:async()=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/all_leagues.php`)).data,getCountryList:async()=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/all_countries.php`)).data,async getLeagueListByCountry(t,e){t=s(t),e=s(e);var r=[];return r.push(`c=${t}`),e&&r.push(`s=${e}`),(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/search_all_leagues.php?${r.join("&")}`)).data},getSeasonsInLeagueById:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/search_all_seasons.php?id=${t}`)).data,getTeamsByLeagueName:async t=>(t=s(t),(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/search_all_teams.php?l=${t}`)).data),getTeamsByLeagueName:async t=>(t=s(t),(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/search_all_teams.php?l=${t}`)).data),getTeamsByCountryAndSport:async(t,e)=>(e=s(e),t=s(t),(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/search_all_teams.php?s=${t}&c=${e}`)).data),getPlayersByTeamId:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/lookup_all_players.php?id=${t}`)).data,getUsersLoved:async t=>(t=s(t),(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/searchloves.php?u=${t}`)).data),getLeagueDetailsById:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/lookupleague.php?id=${t}`)).data,getTeamDetailsById:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/lookupteam.php?id=${t}`)).data,getPlayerDetailsById:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/lookupplayer.php?id=${t}`)).data,getEventDetailsById:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/lookupevent.php?id=${t}`)).data,getPlayerHonoursById:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/lookuphonors.php?id=${t}`)).data,getPlayerFormerTeamsById:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/lookupformerteams.php?id=${t}`)).data,getPlayerContractsById:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/lookupcontracts.php?id=${t}`)).data,getEventResultsById:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/eventresults.php?id=${t}`)).data,getTvEventById:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/lookuptv.php?id=${t}`)).data,getLookupTableByLeagueIdAndSeason:async(t,e)=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/lookuptable.php?l=${t}&s=${e}`)).data,getNext5EventsByTeamId:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/eventsnext.php?id=${t}`)).data,getNext15EventsByLeagueId:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/eventsnext.php?id=${t}`)).data,getPast5EventsByTeamId:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/eventslast.php?id=${t}`)).data,getPast15EventsByLeagueId:async t=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/eventspastleague.php?id=${t}`)).data,getEventsInRound:async(t,e,r)=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/eventsround.php?id=${t}&r=${e}&s=${r}`)).data,async getEventsOnDay(t,e,r){e=s(e),r=s(r);var o=[];return t&&o.push(`d=${t}`),r&&o.push(`l=${r}`),e&&o.push(`s=${e}`),(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/eventsday.php?${o.join("&")}`)).data},async getTvEventsOnDay(t,e,r){e=s(e),r=s(r);var o=[];return t&&o.push(`d=${t}`),r&&o.push(`a=${league}`),e&&o.push(`s=${e}`),(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/eventstv.php?${o.join("&")}`)).data},getTvEventsByChannel:async t=>(t=s(t),(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/eventstv.php?c=${t}`)).data),getEventsByLeagueIdAndSeason:async(t,e)=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/eventsseason.php?id=${t}&s=${e}`)).data,getImage:async t=>(await n.get(`https://www.thesportsdb.com/images/media/league/fanart/${t}.jpg`)).data,getPreviewImage:async t=>(await n.get(`https://www.thesportsdb.com/images/media/league/fanart/${t}.jpg/preview`)).data,async getYoutubeEventHighligts(t,e,r){e=s(e),r=s(r);var o=[];return t&&o.push(`d=${t}`),e&&o.push(`l=${e}`),r&&o.push(`s=${r}`),(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/eventshighlights.php?${o.join("&")}`)).data},getAllEventsByLeagueIdAndSeason:async(t,e)=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/eventsseason.php?id=${t}&s=${e}`)).data,getSoccerLivescores:async()=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/latestsoccer.php`)).data,getLivescoresBySport:async t=>(t=s(t),(await n.get(`https://www.thesportsdb.com/api/v2/json/${a}/livescore.php?s=${t}`)).data),getGolfLivescores:async()=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/latestgolf.php`)).data,getBasketballLivescores:async()=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/latestbasketball.php`)).data,getAmericanFootballLivescores:async()=>(await n.get(`https://www.thesportsdb.com/api/v1/json/${a}/latestamericanfootball.php`)).data}}},e={};function r(n){var a=e[n];if(void 0!==a)return a.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,r),s.exports}(()=>{"use strict";var t,e,n=r(281);e=function(){var t,e,r;return function(t,e){var r,n,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}}(this,(function(a){switch(a.label){case 0:return[4,(s=void 0,o=void 0,i=void 0,c=function(){var t;return function(t,e){var r,n,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}}(this,(function(e){switch(e.label){case 0:return t=[],n.setApiKey(2),[4,n.getLeagueListByCountry("Brazil","Soccer")];case 1:return e.sent().countries.forEach((function(e){t.push(e.strLeague)})),[2,t]}}))},new(i||(i=Promise))((function(t,e){function r(t){try{a(c.next(t))}catch(t){e(t)}}function n(t){try{a(c.throw(t))}catch(t){e(t)}}function a(e){var a;e.done?t(e.value):(a=e.value,a instanceof i?a:new i((function(t){t(a)}))).then(r,n)}a((c=c.apply(s,o||[])).next())})))];case 1:return t=a.sent(),(e=document.createElement("div")).className="tabs-container",r=document.createElement("ul"),t.forEach((function(e){var n=document.createElement("li"),a=document.createElement("button");a.tabIndex=t.indexOf(e),a.textContent=e,n.appendChild(a),r.appendChild(n)})),e.appendChild(r),document.body.appendChild(e),[2]}var s,o,i,c}))},new((t=void 0)||(t=Promise))((function(r,n){function a(t){try{o(e.next(t))}catch(t){n(t)}}function s(t){try{o(e.throw(t))}catch(t){n(t)}}function o(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(t){t(n)}))).then(a,s)}o((e=e.apply(void 0,[])).next())}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFcsT0FJbkUsT0FKZ0IsU0FDUkMsVUFBVW5PLFNBQVEsU0FBQ29PLEdBQ3ZCSCxFQUFZdkssS0FBSzBLLEVBQVFDLGNBRXRCLENBQVAsRUFBT0osUSwwUkNMREEsRUFBYyxVQUNkSyxFQUFPOUUsU0FBU1ksY0FBYyxRQUMvQm1FLFVBQVksaUJBRVhDLEVBQVVoRixTQUFTWSxjQUFjLE1BRXZDNkQsRUFBWWpPLFNBQVEsU0FBQW9PLEdBQ2hCLElBQU1LLEVBQVdqRixTQUFTWSxjQUFjLE1BQ2xDc0UsRUFBTWxGLFNBQVNZLGNBQWMsVUFDbkNzRSxFQUFJQyxTQUFXVixFQUFZcFAsUUFBUXVQLEdBQ25DTSxFQUFJRSxZQUFjUixFQUNsQkssRUFBU0ksWUFBWUgsR0FDckJGLEVBQVFLLFlBQVlKLE1BR3hCSCxFQUFLTyxZQUFZTCxHQUNqQmhGLFNBQVNzRixLQUFLRCxZQUFZUCxHLGdDQWpCTixLLGtQQUFBLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9heGlvcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2J1aWxkRnVsbFBhdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2NyZWF0ZUVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2VuaGFuY2VFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvbWVyZ2VDb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvdHJhbnNmb3JtRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2RlZmF1bHRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idWlsZFVSTC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGhlc3BvcnRzZGIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9sZWFndWVzLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2F4aW9zJyk7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgc2V0dGxlID0gcmVxdWlyZSgnLi8uLi9jb3JlL3NldHRsZScpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2J1aWxkVVJMJyk7XG52YXIgYnVpbGRGdWxsUGF0aCA9IHJlcXVpcmUoJy4uL2NvcmUvYnVpbGRGdWxsUGF0aCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKGNvbmZpZy5hdXRoKSB7XG4gICAgICB2YXIgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcbiAgICAgIHZhciBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkIHx8ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICB2YXIgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG4gICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgaWYgKCFyZXF1ZXN0IHx8IHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG4gICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFjb25maWcucmVzcG9uc2VUeXBlIHx8IGNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgY29uZmlnLCAnRUNPTk5BQk9SVEVEJywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignTmV0d29yayBFcnJvcicsIGNvbmZpZywgbnVsbCwgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICB2YXIgdGltZW91dEVycm9yTWVzc2FnZSA9ICd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCc7XG4gICAgICBpZiAoY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSA9IGNvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKHRpbWVvdXRFcnJvck1lc3NhZ2UsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGZ1bGxQYXRoKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cbiAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcud2l0aENyZWRlbnRpYWxzKSkge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSAhIWNvbmZpZy53aXRoQ3JlZGVudGlhbHM7XG4gICAgfVxuXG4gICAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIEV4cGVjdGVkIERPTUV4Y2VwdGlvbiB0aHJvd24gYnkgYnJvd3NlcnMgbm90IGNvbXBhdGlibGUgWE1MSHR0cFJlcXVlc3QgTGV2ZWwgMi5cbiAgICAgICAgLy8gQnV0LCB0aGlzIGNhbiBiZSBzdXBwcmVzc2VkIGZvciAnanNvbicgdHlwZSBhcyBpdCBjYW4gYmUgcGFyc2VkIGJ5IGRlZmF1bHQgJ3RyYW5zZm9ybVJlc3BvbnNlJyBmdW5jdGlvbi5cbiAgICAgICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25Eb3dubG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nICYmIHJlcXVlc3QudXBsb2FkKSB7XG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgICAvLyBIYW5kbGUgY2FuY2VsbGF0aW9uXG4gICAgICBjb25maWcuY2FuY2VsVG9rZW4ucHJvbWlzZS50aGVuKGZ1bmN0aW9uIG9uQ2FuY2VsZWQoY2FuY2VsKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgcmVqZWN0KGNhbmNlbCk7XG4gICAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocmVxdWVzdERhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVxdWVzdERhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgICByZXF1ZXN0LnNlbmQocmVxdWVzdERhdGEpO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciBBeGlvcyA9IHJlcXVpcmUoJy4vY29yZS9BeGlvcycpO1xudmFyIG1lcmdlQ29uZmlnID0gcmVxdWlyZSgnLi9jb3JlL21lcmdlQ29uZmlnJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIHZhciBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICB2YXIgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbnZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG5heGlvcy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKG1lcmdlQ29uZmlnKGF4aW9zLmRlZmF1bHRzLCBpbnN0YW5jZUNvbmZpZykpO1xufTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBheGlvcztcblxuLy8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gYXhpb3M7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQSBgQ2FuY2VsYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbChtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbkNhbmNlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdDYW5jZWwnICsgKHRoaXMubWVzc2FnZSA/ICc6ICcgKyB0aGlzLm1lc3NhZ2UgOiAnJyk7XG59O1xuXG5DYW5jZWwucHJvdG90eXBlLl9fQ0FOQ0VMX18gPSB0cnVlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbDtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENhbmNlbCA9IHJlcXVpcmUoJy4vQ2FuY2VsJyk7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsVG9rZW4oZXhlY3V0b3IpIHtcbiAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciByZXNvbHZlUHJvbWlzZTtcbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gIH0pO1xuXG4gIHZhciB0b2tlbiA9IHRoaXM7XG4gIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlKSB7XG4gICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbChtZXNzYWdlKTtcbiAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gKi9cbkNhbmNlbFRva2VuLnNvdXJjZSA9IGZ1bmN0aW9uIHNvdXJjZSgpIHtcbiAgdmFyIGNhbmNlbDtcbiAgdmFyIHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICBjYW5jZWwgPSBjO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0b2tlbjogdG9rZW4sXG4gICAgY2FuY2VsOiBjYW5jZWxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsVG9rZW47XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIEludGVyY2VwdG9yTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gcmVxdWlyZSgnLi9kaXNwYXRjaFJlcXVlc3QnKTtcbnZhciBtZXJnZUNvbmZpZyA9IHJlcXVpcmUoJy4vbWVyZ2VDb25maWcnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gQXhpb3MoaW5zdGFuY2VDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICovXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IGFyZ3VtZW50c1sxXSB8fCB7fTtcbiAgICBjb25maWcudXJsID0gYXJndW1lbnRzWzBdO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgfVxuXG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG5cbiAgLy8gU2V0IGNvbmZpZy5tZXRob2RcbiAgaWYgKGNvbmZpZy5tZXRob2QpIHtcbiAgICBjb25maWcubWV0aG9kID0gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuICB9IGVsc2UgaWYgKHRoaXMuZGVmYXVsdHMubWV0aG9kKSB7XG4gICAgY29uZmlnLm1ldGhvZCA9IHRoaXMuZGVmYXVsdHMubWV0aG9kLnRvTG93ZXJDYXNlKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uZmlnLm1ldGhvZCA9ICdnZXQnO1xuICB9XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbkF4aW9zLnByb3RvdHlwZS5nZXRVcmkgPSBmdW5jdGlvbiBnZXRVcmkoY29uZmlnKSB7XG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIHJldHVybiBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcikucmVwbGFjZSgvXlxcPy8sICcnKTtcbn07XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybFxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNBYnNvbHV0ZVVSTCA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi4vaGVscGVycy9jb21iaW5lVVJMcycpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgYmFzZVVSTCB3aXRoIHRoZSByZXF1ZXN0ZWRVUkwsXG4gKiBvbmx5IHdoZW4gdGhlIHJlcXVlc3RlZFVSTCBpcyBub3QgYWxyZWFkeSBhbiBhYnNvbHV0ZSBVUkwuXG4gKiBJZiB0aGUgcmVxdWVzdFVSTCBpcyBhYnNvbHV0ZSwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSByZXF1ZXN0ZWRVUkwgdW50b3VjaGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFVSTCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgdG8gY29tYmluZVxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIGZ1bGwgcGF0aFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKSB7XG4gIGlmIChiYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCkpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGVuaGFuY2VFcnJvciA9IHJlcXVpcmUoJy4vZW5oYW5jZUVycm9yJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUVycm9yKG1lc3NhZ2UsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciB0cmFuc2Zvcm1EYXRhID0gcmVxdWlyZSgnLi90cmFuc2Zvcm1EYXRhJyk7XG52YXIgaXNDYW5jZWwgPSByZXF1aXJlKCcuLi9jYW5jZWwvaXNDYW5jZWwnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4uL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3RcbiAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1xuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXBkYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBjb25maWcsIGVycm9yIGNvZGUsIGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJvciBUaGUgZXJyb3IgdG8gdXBkYXRlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgZXJyb3IuY29uZmlnID0gY29uZmlnO1xuICBpZiAoY29kZSkge1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICB9XG5cbiAgZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG4gIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIGVycm9yLmlzQXhpb3NFcnJvciA9IHRydWU7XG5cbiAgZXJyb3IudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFN0YW5kYXJkXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAvLyBNaWNyb3NvZnRcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcbiAgICAgIC8vIE1vemlsbGFcbiAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgICAgLy8gQXhpb3NcbiAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICBjb2RlOiB0aGlzLmNvZGVcbiAgICB9O1xuICB9O1xuICByZXR1cm4gZXJyb3I7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgdmFyIGNvbmZpZyA9IHt9O1xuXG4gIHZhciB2YWx1ZUZyb21Db25maWcyS2V5cyA9IFsndXJsJywgJ21ldGhvZCcsICdwYXJhbXMnLCAnZGF0YSddO1xuICB2YXIgbWVyZ2VEZWVwUHJvcGVydGllc0tleXMgPSBbJ2hlYWRlcnMnLCAnYXV0aCcsICdwcm94eSddO1xuICB2YXIgZGVmYXVsdFRvQ29uZmlnMktleXMgPSBbXG4gICAgJ2Jhc2VVUkwnLCAndXJsJywgJ3RyYW5zZm9ybVJlcXVlc3QnLCAndHJhbnNmb3JtUmVzcG9uc2UnLCAncGFyYW1zU2VyaWFsaXplcicsXG4gICAgJ3RpbWVvdXQnLCAnd2l0aENyZWRlbnRpYWxzJywgJ2FkYXB0ZXInLCAncmVzcG9uc2VUeXBlJywgJ3hzcmZDb29raWVOYW1lJyxcbiAgICAneHNyZkhlYWRlck5hbWUnLCAnb25VcGxvYWRQcm9ncmVzcycsICdvbkRvd25sb2FkUHJvZ3Jlc3MnLFxuICAgICdtYXhDb250ZW50TGVuZ3RoJywgJ3ZhbGlkYXRlU3RhdHVzJywgJ21heFJlZGlyZWN0cycsICdodHRwQWdlbnQnLFxuICAgICdodHRwc0FnZW50JywgJ2NhbmNlbFRva2VuJywgJ3NvY2tldFBhdGgnXG4gIF07XG5cbiAgdXRpbHMuZm9yRWFjaCh2YWx1ZUZyb21Db25maWcyS2V5cywgZnVuY3Rpb24gdmFsdWVGcm9tQ29uZmlnMihwcm9wKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcyW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMltwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2gobWVyZ2VEZWVwUHJvcGVydGllc0tleXMsIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMocHJvcCkge1xuICAgIGlmICh1dGlscy5pc09iamVjdChjb25maWcyW3Byb3BdKSkge1xuICAgICAgY29uZmlnW3Byb3BdID0gdXRpbHMuZGVlcE1lcmdlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QoY29uZmlnMVtwcm9wXSkpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IHV0aWxzLmRlZXBNZXJnZShjb25maWcxW3Byb3BdKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcxW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMVtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2goZGVmYXVsdFRvQ29uZmlnMktleXMsIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIocHJvcCkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMVtwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzFbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICB2YXIgYXhpb3NLZXlzID0gdmFsdWVGcm9tQ29uZmlnMktleXNcbiAgICAuY29uY2F0KG1lcmdlRGVlcFByb3BlcnRpZXNLZXlzKVxuICAgIC5jb25jYXQoZGVmYXVsdFRvQ29uZmlnMktleXMpO1xuXG4gIHZhciBvdGhlcktleXMgPSBPYmplY3RcbiAgICAua2V5cyhjb25maWcyKVxuICAgIC5maWx0ZXIoZnVuY3Rpb24gZmlsdGVyQXhpb3NLZXlzKGtleSkge1xuICAgICAgcmV0dXJuIGF4aW9zS2V5cy5pbmRleE9mKGtleSkgPT09IC0xO1xuICAgIH0pO1xuXG4gIHV0aWxzLmZvckVhY2gob3RoZXJLZXlzLCBmdW5jdGlvbiBvdGhlcktleXNEZWZhdWx0VG9Db25maWcyKHByb3ApIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzFbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcxW3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNvbmZpZztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVFcnJvciA9IHJlcXVpcmUoJy4vY3JlYXRlRXJyb3InKTtcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSkge1xuICB2YXIgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIGlmICghdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChjcmVhdGVFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICBudWxsLFxuICAgICAgcmVzcG9uc2UucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlXG4gICAgKSk7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHRyYW5zZm9ybWVkXG4gKiBAcGFyYW0ge0FycmF5fSBoZWFkZXJzIFRoZSBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdCBvciByZXNwb25zZVxuICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSwgaGVhZGVycywgZm5zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICB1dGlscy5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMpO1xuICB9KTtcblxuICByZXR1cm4gZGF0YTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBub3JtYWxpemVIZWFkZXJOYW1lID0gcmVxdWlyZSgnLi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUnKTtcblxudmFyIERFRkFVTFRfQ09OVEVOVF9UWVBFID0ge1xuICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbn07XG5cbmZ1bmN0aW9uIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCB2YWx1ZSkge1xuICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGhlYWRlcnMpICYmIHV0aWxzLmlzVW5kZWZpbmVkKGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddKSkge1xuICAgIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gdmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGVmYXVsdEFkYXB0ZXIoKSB7XG4gIHZhciBhZGFwdGVyO1xuICBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEZvciBicm93c2VycyB1c2UgWEhSIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy94aHInKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXScpIHtcbiAgICAvLyBGb3Igbm9kZSB1c2UgSFRUUCBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMvaHR0cCcpO1xuICB9XG4gIHJldHVybiBhZGFwdGVyO1xufVxuXG52YXIgZGVmYXVsdHMgPSB7XG4gIGFkYXB0ZXI6IGdldERlZmF1bHRBZGFwdGVyKCksXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0FjY2VwdCcpO1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpO1xuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0FycmF5QnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0J1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7IC8qIElnbm9yZSAqLyB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9XG59O1xuXG5kZWZhdWx0cy5oZWFkZXJzID0ge1xuICBjb21tb246IHtcbiAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lNDAvZ2ksICdAJykuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKS5cbiAgICByZXBsYWNlKC8lNUIvZ2ksICdbJykuXG4gICAgcmVwbGFjZSgvJTVEL2dpLCAnXScpO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYnVpbGRVUkwodXJsLCBwYXJhbXMsIHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHZhciBzZXJpYWxpemVkUGFyYW1zO1xuICBpZiAocGFyYW1zU2VyaWFsaXplcikge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXNTZXJpYWxpemVyKHBhcmFtcyk7XG4gIH0gZWxzZSBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSkge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcGFydHMgPSBbXTtcblxuICAgIHV0aWxzLmZvckVhY2gocGFyYW1zLCBmdW5jdGlvbiBzZXJpYWxpemUodmFsLCBrZXkpIHtcbiAgICAgIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodXRpbHMuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIGtleSA9IGtleSArICdbXSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSBbdmFsXTtcbiAgICAgIH1cblxuICAgICAgdXRpbHMuZm9yRWFjaCh2YWwsIGZ1bmN0aW9uIHBhcnNlVmFsdWUodikge1xuICAgICAgICBpZiAodXRpbHMuaXNEYXRlKHYpKSB7XG4gICAgICAgICAgdiA9IHYudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdCh2KSkge1xuICAgICAgICAgIHYgPSBKU09OLnN0cmluZ2lmeSh2KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZShrZXkpICsgJz0nICsgZW5jb2RlKHYpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcnRzLmpvaW4oJyYnKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgdmFyIGhhc2htYXJrSW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xuICAgIGlmIChoYXNobWFya0luZGV4ICE9PSAtMSkge1xuICAgICAgdXJsID0gdXJsLnNsaWNlKDAsIGhhc2htYXJrSW5kZXgpO1xuICAgIH1cblxuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIHJlbGF0aXZlVVJMXG4gICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLyskLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcbiAgICA6IGJhc2VVUkw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgc3VwcG9ydCBkb2N1bWVudC5jb29raWVcbiAgICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKG5hbWUsIHZhbHVlLCBleHBpcmVzLCBwYXRoLCBkb21haW4sIHNlY3VyZSkge1xuICAgICAgICAgIHZhciBjb29raWUgPSBbXTtcbiAgICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNOdW1iZXIoZXhwaXJlcykpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcocGF0aCkpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcoZG9tYWluKSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VjdXJlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llLmpvaW4oJzsgJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcbiAgICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKG5hbWUpIHtcbiAgICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgICB9O1xuICAgIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4gIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAgIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICB2YXIgbXNpZSA9IC8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICB2YXIgb3JpZ2luVVJMO1xuXG4gICAgICAvKipcbiAgICAqIFBhcnNlIGEgVVJMIHRvIGRpc2NvdmVyIGl0J3MgY29tcG9uZW50c1xuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWRcbiAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgKi9cbiAgICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICAgIHZhciBocmVmID0gdXJsO1xuXG4gICAgICAgIGlmIChtc2llKSB7XG4gICAgICAgIC8vIElFIG5lZWRzIGF0dHJpYnV0ZSBzZXQgdHdpY2UgdG8gbm9ybWFsaXplIHByb3BlcnRpZXNcbiAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgICAgICAgfVxuXG4gICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgICAgICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcbiAgICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICAgICAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXG4gICAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG4gICAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgICAgLyoqXG4gICAgKiBEZXRlcm1pbmUgaWYgYSBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgY3VycmVudCBsb2NhdGlvblxuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0VVJMIFRoZSBVUkwgdG8gdGVzdFxuICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4sIG90aGVyd2lzZSBmYWxzZVxuICAgICovXG4gICAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgICAgdmFyIHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgICAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVSTC5wcm90b2NvbCAmJlxuICAgICAgICAgICAgcGFyc2VkLmhvc3QgPT09IG9yaWdpblVSTC5ob3N0KTtcbiAgICAgIH07XG4gICAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9O1xuICAgIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgfVxuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLy8gSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbnZhciBpZ25vcmVEdXBsaWNhdGVPZiA9IFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gIHZhciBwYXJzZWQgPSB7fTtcbiAgdmFyIGtleTtcbiAgdmFyIHZhbDtcbiAgdmFyIGk7XG5cbiAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblxuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZi5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSAocGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSA6IFtdKS5jb25jYXQoW3ZhbF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG5cbi8qZ2xvYmFsIHRvU3RyaW5nOnRydWUqL1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0J1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsKSAmJiB2YWwuY29uc3RydWN0b3IgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbC5jb25zdHJ1Y3RvcilcbiAgICAmJiB0eXBlb2YgdmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcih2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsKSB7XG4gIHJldHVybiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJykgJiYgKHZhbCBpbnN0YW5jZW9mIEZvcm1EYXRhKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAodmFsLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRmlsZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQmxvYih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJlYW0odmFsKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zO1xufVxuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJykucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICogbmF0aXZlc2NyaXB0XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ05hdGl2ZVNjcmlwdCcgb3IgJ05TJ1xuICovXG5mdW5jdGlvbiBpc1N0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIChuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnTmF0aXZlU2NyaXB0JyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnTlMnKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gKFxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ1xuICApO1xufVxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbikge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gZXF1YWwgdG8gbWVyZ2Ugd2l0aCB0aGUgZGlmZmVyZW5jZSBiZWluZyB0aGF0IG5vIHJlZmVyZW5jZVxuICogdG8gb3JpZ2luYWwgb2JqZWN0cyBpcyBrZXB0LlxuICpcbiAqIEBzZWUgbWVyZ2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIGRlZXBNZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IGRlZXBNZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IGRlZXBNZXJnZSh7fSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGEsIGIsIHRoaXNBcmcpIHtcbiAgZm9yRWFjaChiLCBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0aGlzQXJnICYmIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNBcnJheTogaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcjogaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICBpc09iamVjdDogaXNPYmplY3QsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzRmlsZTogaXNGaWxlLFxuICBpc0Jsb2I6IGlzQmxvYixcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNTdHJlYW06IGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgbWVyZ2U6IG1lcmdlLFxuICBkZWVwTWVyZ2U6IGRlZXBNZXJnZSxcbiAgZXh0ZW5kOiBleHRlbmQsXG4gIHRyaW06IHRyaW1cbn07XG4iLCJjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7XHJcblxyXG52YXIgYXBpS2V5ID0gMTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgc2V0QXBpS2V5KGtleSl7XHJcbiAgICAgICAgYXBpS2V5ID0ga2V5XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0VGVhbUJ5TmFtZShuYW1lKXtcclxuICAgICAgICBuYW1lID0gbWFrZVVybChuYW1lKVxyXG4gICAgICAgIHJldHVybiAoYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50aGVzcG9ydHNkYi5jb20vYXBpL3YxL2pzb24vJHthcGlLZXl9L3NlYXJjaHRlYW1zLnBocD90PSR7bmFtZX1gKSkuZGF0YTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBnZXRUZWFtQnlTaG9ydENvZGUoY29kZSl7XHJcbiAgICAgICAgY29kZSA9IG1ha2VVcmwoY29kZSlcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9zZWFyY2h0ZWFtcy5waHA/c25hbWU9JHtjb2RlfWApKS5kYXRhO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGdldEFsbFBsYXllcnNCeVRlYW0obmFtZSl7XHJcbiAgICAgICAgbmFtZSA9IG1ha2VVcmwobmFtZSlcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9zZWFyY2hwbGF5ZXJzLnBocD90PSR7bmFtZX1gKSkuZGF0YTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBnZXRQbGF5ZXJCeU5hbWUobmFtZSwgdGVhbSl7XHJcbiAgICAgICAgbmFtZSA9IG1ha2VVcmwobmFtZSlcclxuICAgICAgICB0ZWFtID0gbWFrZVVybCh0ZWFtKVxyXG4gICAgICAgIHZhciBwYXJhbXMgPSBbXVxyXG4gICAgICAgIHBhcmFtcy5wdXNoKGBwPSR7bmFtZX1gKVxyXG4gICAgICAgIGlmKHRlYW0pIHBhcmFtcy5wdXNoKGB0PSR7dGVhbX1gKVxyXG4gICAgICAgIHJldHVybiAoYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50aGVzcG9ydHNkYi5jb20vYXBpL3YxL2pzb24vJHthcGlLZXl9L3NlYXJjaHBsYXllcnMucGhwPyR7cGFyYW1zLmpvaW4oJyYnKX1gKSkuZGF0YTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBnZXRFdmVudEJ5TmFtZShuYW1lLCBzZWFzb24pe1xyXG4gICAgICAgIG5hbWUgPSBtYWtlVXJsKG5hbWUpXHJcbiAgICAgICAgc2Vhc29uID0gbWFrZVVybChzZWFzb24pXHJcbiAgICAgICAgdmFyIHBhcmFtcyA9IFtdXHJcbiAgICAgICAgcGFyYW1zLnB1c2goYGU9JHtuYW1lfWApXHJcbiAgICAgICAgaWYoc2Vhc29uKSBwYXJhbXMucHVzaChgcz0ke3NlYXNvbn1gKVxyXG4gICAgICAgIHJldHVybiAoYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50aGVzcG9ydHNkYi5jb20vYXBpL3YxL2pzb24vJHthcGlLZXl9L3NlYXJjaGV2ZW50cy5waHA/JHtwYXJhbXMuam9pbignJicpfWApKS5kYXRhO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGdldFNwb3J0c0xpc3QoKXtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9hbGxfc3BvcnRzLnBocGApKS5kYXRhO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGdldExlYWd1ZUxpc3QoKXtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9hbGxfbGVhZ3Vlcy5waHBgKSkuZGF0YTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBnZXRDb3VudHJ5TGlzdCgpe1xyXG4gICAgICAgIHJldHVybiAoYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50aGVzcG9ydHNkYi5jb20vYXBpL3YxL2pzb24vJHthcGlLZXl9L2FsbF9jb3VudHJpZXMucGhwYCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0TGVhZ3VlTGlzdEJ5Q291bnRyeShjb3VudHJ5LCBzcG9ydCl7XHJcbiAgICAgICAgY291bnRyeSA9IG1ha2VVcmwoY291bnRyeSlcclxuICAgICAgICBzcG9ydCA9IG1ha2VVcmwoc3BvcnQpXHJcbiAgICAgICAgdmFyIHBhcmFtcyA9IFtdXHJcbiAgICAgICAgcGFyYW1zLnB1c2goYGM9JHtjb3VudHJ5fWApXHJcbiAgICAgICAgaWYoc3BvcnQpIHBhcmFtcy5wdXNoKGBzPSR7c3BvcnR9YClcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9zZWFyY2hfYWxsX2xlYWd1ZXMucGhwPyR7cGFyYW1zLmpvaW4oJyYnKX1gKSkuZGF0YTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBnZXRTZWFzb25zSW5MZWFndWVCeUlkKGlkKXtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9zZWFyY2hfYWxsX3NlYXNvbnMucGhwP2lkPSR7aWR9YCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0VGVhbXNCeUxlYWd1ZU5hbWUobmFtZSl7XHJcbiAgICAgICAgbmFtZSA9IG1ha2VVcmwobmFtZSlcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9zZWFyY2hfYWxsX3RlYW1zLnBocD9sPSR7bmFtZX1gKSkuZGF0YTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBnZXRUZWFtc0J5TGVhZ3VlTmFtZShuYW1lKXtcclxuICAgICAgICBuYW1lID0gbWFrZVVybChuYW1lKVxyXG4gICAgICAgIHJldHVybiAoYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50aGVzcG9ydHNkYi5jb20vYXBpL3YxL2pzb24vJHthcGlLZXl9L3NlYXJjaF9hbGxfdGVhbXMucGhwP2w9JHtuYW1lfWApKS5kYXRhO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGdldFRlYW1zQnlDb3VudHJ5QW5kU3BvcnQoc3BvcnQsIGNvdW50cnkpe1xyXG4gICAgICAgIGNvdW50cnkgPSBtYWtlVXJsKGNvdW50cnkpXHJcbiAgICAgICAgc3BvcnQgPSBtYWtlVXJsKHNwb3J0KVxyXG4gICAgICAgIHJldHVybiAoYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50aGVzcG9ydHNkYi5jb20vYXBpL3YxL2pzb24vJHthcGlLZXl9L3NlYXJjaF9hbGxfdGVhbXMucGhwP3M9JHtzcG9ydH0mYz0ke2NvdW50cnl9YCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgLy8gYXN5bmMgZ2V0VGVhbURldGFpbHNCeUlkKGlkKXtcclxuICAgIC8vICAgICByZXR1cm4gYXhpb3MuZ2V0KGBodHRwczovL3d3dy50aGVzcG9ydHNkYi5jb20vYXBpL3YxL2pzb24vMS9sb29rdXBfYWxsX3RlYW1zLnBocD9pZD0ke2lkfWApLmRhdGE7XHJcbiAgICAvLyB9LFxyXG4gICAgYXN5bmMgZ2V0UGxheWVyc0J5VGVhbUlkKGlkKXtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9sb29rdXBfYWxsX3BsYXllcnMucGhwP2lkPSR7aWR9YCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0VXNlcnNMb3ZlZCh1c2VyKXtcclxuICAgICAgICB1c2VyID0gbWFrZVVybCh1c2VyKVxyXG4gICAgICAgIHJldHVybiAoYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50aGVzcG9ydHNkYi5jb20vYXBpL3YxL2pzb24vJHthcGlLZXl9L3NlYXJjaGxvdmVzLnBocD91PSR7dXNlcn1gKSkuZGF0YTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBnZXRMZWFndWVEZXRhaWxzQnlJZChpZCl7XHJcbiAgICAgICAgcmV0dXJuIChhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vd3d3LnRoZXNwb3J0c2RiLmNvbS9hcGkvdjEvanNvbi8ke2FwaUtleX0vbG9va3VwbGVhZ3VlLnBocD9pZD0ke2lkfWApKS5kYXRhO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGdldFRlYW1EZXRhaWxzQnlJZChpZCl7XHJcbiAgICAgICAgcmV0dXJuIChhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vd3d3LnRoZXNwb3J0c2RiLmNvbS9hcGkvdjEvanNvbi8ke2FwaUtleX0vbG9va3VwdGVhbS5waHA/aWQ9JHtpZH1gKSkuZGF0YTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBnZXRQbGF5ZXJEZXRhaWxzQnlJZChpZCl7XHJcbiAgICAgICAgcmV0dXJuIChhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vd3d3LnRoZXNwb3J0c2RiLmNvbS9hcGkvdjEvanNvbi8ke2FwaUtleX0vbG9va3VwcGxheWVyLnBocD9pZD0ke2lkfWApKS5kYXRhO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGdldEV2ZW50RGV0YWlsc0J5SWQoaWQpe1xyXG4gICAgICAgIHJldHVybiAoYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50aGVzcG9ydHNkYi5jb20vYXBpL3YxL2pzb24vJHthcGlLZXl9L2xvb2t1cGV2ZW50LnBocD9pZD0ke2lkfWApKS5kYXRhO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGdldFBsYXllckhvbm91cnNCeUlkKGlkKXtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9sb29rdXBob25vcnMucGhwP2lkPSR7aWR9YCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0UGxheWVyRm9ybWVyVGVhbXNCeUlkKGlkKXtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9sb29rdXBmb3JtZXJ0ZWFtcy5waHA/aWQ9JHtpZH1gKSkuZGF0YTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBnZXRQbGF5ZXJDb250cmFjdHNCeUlkKGlkKXtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9sb29rdXBjb250cmFjdHMucGhwP2lkPSR7aWR9YCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0RXZlbnRSZXN1bHRzQnlJZChpZCl7XHJcbiAgICAgICAgcmV0dXJuIChhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vd3d3LnRoZXNwb3J0c2RiLmNvbS9hcGkvdjEvanNvbi8ke2FwaUtleX0vZXZlbnRyZXN1bHRzLnBocD9pZD0ke2lkfWApKS5kYXRhO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGdldFR2RXZlbnRCeUlkKGlkKXtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9sb29rdXB0di5waHA/aWQ9JHtpZH1gKSkuZGF0YTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBnZXRMb29rdXBUYWJsZUJ5TGVhZ3VlSWRBbmRTZWFzb24oaWQsIHNlYXNvbil7XHJcbiAgICAgICAgcmV0dXJuIChhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vd3d3LnRoZXNwb3J0c2RiLmNvbS9hcGkvdjEvanNvbi8ke2FwaUtleX0vbG9va3VwdGFibGUucGhwP2w9JHtpZH0mcz0ke3NlYXNvbn1gKSkuZGF0YTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBnZXROZXh0NUV2ZW50c0J5VGVhbUlkKGlkKXtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9ldmVudHNuZXh0LnBocD9pZD0ke2lkfWApKS5kYXRhO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGdldE5leHQxNUV2ZW50c0J5TGVhZ3VlSWQoaWQpe1xyXG4gICAgICAgIHJldHVybiAoYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50aGVzcG9ydHNkYi5jb20vYXBpL3YxL2pzb24vJHthcGlLZXl9L2V2ZW50c25leHQucGhwP2lkPSR7aWR9YCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0UGFzdDVFdmVudHNCeVRlYW1JZChpZCl7XHJcbiAgICAgICAgcmV0dXJuIChhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vd3d3LnRoZXNwb3J0c2RiLmNvbS9hcGkvdjEvanNvbi8ke2FwaUtleX0vZXZlbnRzbGFzdC5waHA/aWQ9JHtpZH1gKSkuZGF0YTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBnZXRQYXN0MTVFdmVudHNCeUxlYWd1ZUlkKGlkKXtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9ldmVudHNwYXN0bGVhZ3VlLnBocD9pZD0ke2lkfWApKS5kYXRhO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGdldEV2ZW50c0luUm91bmQoaWQsIHJvdW5kLCBzZWFzb24pe1xyXG4gICAgICAgIHJldHVybiAoYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50aGVzcG9ydHNkYi5jb20vYXBpL3YxL2pzb24vJHthcGlLZXl9L2V2ZW50c3JvdW5kLnBocD9pZD0ke2lkfSZyPSR7cm91bmR9JnM9JHtzZWFzb259YCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0RXZlbnRzT25EYXkoZGF5LCBzcG9ydCwgbmFtZSl7XHJcbiAgICAgICAgc3BvcnQgPSBtYWtlVXJsKHNwb3J0KVxyXG4gICAgICAgIG5hbWUgPSBtYWtlVXJsKG5hbWUpXHJcbiAgICAgICAgdmFyIHBhcmFtcyA9IFtdXHJcbiAgICAgICAgaWYoZGF5KSBwYXJhbXMucHVzaChgZD0ke2RheX1gKVxyXG4gICAgICAgIGlmKG5hbWUpIHBhcmFtcy5wdXNoKGBsPSR7bmFtZX1gKVxyXG4gICAgICAgIGlmKHNwb3J0KSBwYXJhbXMucHVzaChgcz0ke3Nwb3J0fWApXHJcbiAgICAgICAgcmV0dXJuIChhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vd3d3LnRoZXNwb3J0c2RiLmNvbS9hcGkvdjEvanNvbi8ke2FwaUtleX0vZXZlbnRzZGF5LnBocD8ke3BhcmFtcy5qb2luKCcmJyl9YCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0VHZFdmVudHNPbkRheShkYXksIHNwb3J0LCBjb3VudHJ5KXtcclxuICAgICAgICBzcG9ydCA9IG1ha2VVcmwoc3BvcnQpXHJcbiAgICAgICAgY291bnRyeSA9IG1ha2VVcmwoY291bnRyeSlcclxuICAgICAgICB2YXIgcGFyYW1zID0gW11cclxuICAgICAgICBpZihkYXkpIHBhcmFtcy5wdXNoKGBkPSR7ZGF5fWApXHJcbiAgICAgICAgaWYoY291bnRyeSkgcGFyYW1zLnB1c2goYGE9JHtsZWFndWV9YClcclxuICAgICAgICBpZihzcG9ydCkgcGFyYW1zLnB1c2goYHM9JHtzcG9ydH1gKVxyXG4gICAgICAgIHJldHVybiAoYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50aGVzcG9ydHNkYi5jb20vYXBpL3YxL2pzb24vJHthcGlLZXl9L2V2ZW50c3R2LnBocD8ke3BhcmFtcy5qb2luKCcmJyl9YCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0VHZFdmVudHNCeUNoYW5uZWwoY2hhbm5lbCl7XHJcbiAgICAgICAgY2hhbm5lbCA9IG1ha2VVcmwoY2hhbm5lbClcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9ldmVudHN0di5waHA/Yz0ke2NoYW5uZWx9YCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0RXZlbnRzQnlMZWFndWVJZEFuZFNlYXNvbihpZCwgc2Vhc29uKXtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9ldmVudHNzZWFzb24ucGhwP2lkPSR7aWR9JnM9JHtzZWFzb259YCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0SW1hZ2UoaWQpe1xyXG4gICAgICAgIHJldHVybiAoYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50aGVzcG9ydHNkYi5jb20vaW1hZ2VzL21lZGlhL2xlYWd1ZS9mYW5hcnQvJHtpZH0uanBnYCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0UHJldmlld0ltYWdlKGlkKXtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2ltYWdlcy9tZWRpYS9sZWFndWUvZmFuYXJ0LyR7aWR9LmpwZy9wcmV2aWV3YCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0WW91dHViZUV2ZW50SGlnaGxpZ3RzKGRheSwgbGVhZ3VlLCBzcG9ydCl7XHJcbiAgICAgICAgbGVhZ3VlID0gbWFrZVVybChsZWFndWUpXHJcbiAgICAgICAgc3BvcnQgPSBtYWtlVXJsKHNwb3J0KVxyXG4gICAgICAgIHZhciB4ID0gW11cclxuICAgICAgICBpZihkYXkpIHgucHVzaChgZD0ke2RheX1gKVxyXG4gICAgICAgIGlmKGxlYWd1ZSkgeC5wdXNoKGBsPSR7bGVhZ3VlfWApXHJcbiAgICAgICAgaWYoc3BvcnQpIHgucHVzaChgcz0ke3Nwb3J0fWApXHJcbiAgICAgICAgcmV0dXJuIChhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vd3d3LnRoZXNwb3J0c2RiLmNvbS9hcGkvdjEvanNvbi8ke2FwaUtleX0vZXZlbnRzaGlnaGxpZ2h0cy5waHA/JHt4LmpvaW4oXCImXCIpfWApKS5kYXRhO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGdldEFsbEV2ZW50c0J5TGVhZ3VlSWRBbmRTZWFzb24oaWQsIHNlYXNvbil7XHJcbiAgICAgICAgcmV0dXJuIChhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vd3d3LnRoZXNwb3J0c2RiLmNvbS9hcGkvdjEvanNvbi8ke2FwaUtleX0vZXZlbnRzc2Vhc29uLnBocD9pZD0ke2lkfSZzPSR7c2Vhc29ufWApKS5kYXRhO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGdldFNvY2NlckxpdmVzY29yZXMoKXtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9sYXRlc3Rzb2NjZXIucGhwYCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0TGl2ZXNjb3Jlc0J5U3BvcnQoc3BvcnQpe1xyXG4gICAgICAgIHNwb3J0ID0gbWFrZVVybChzcG9ydClcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92Mi9qc29uLyR7YXBpS2V5fS9saXZlc2NvcmUucGhwP3M9JHtzcG9ydH1gKSkuZGF0YTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBnZXRHb2xmTGl2ZXNjb3Jlcygpe1xyXG4gICAgICAgIHJldHVybiAoYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50aGVzcG9ydHNkYi5jb20vYXBpL3YxL2pzb24vJHthcGlLZXl9L2xhdGVzdGdvbGYucGhwYCkpLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0QmFza2V0YmFsbExpdmVzY29yZXMoKXtcclxuICAgICAgICByZXR1cm4gKGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGhlc3BvcnRzZGIuY29tL2FwaS92MS9qc29uLyR7YXBpS2V5fS9sYXRlc3RiYXNrZXRiYWxsLnBocGApKS5kYXRhO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGdldEFtZXJpY2FuRm9vdGJhbGxMaXZlc2NvcmVzKCl7XHJcbiAgICAgICAgcmV0dXJuIChhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vd3d3LnRoZXNwb3J0c2RiLmNvbS9hcGkvdjEvanNvbi8ke2FwaUtleX0vbGF0ZXN0YW1lcmljYW5mb290YmFsbC5waHBgKSkuZGF0YTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbWFrZVVybCh4KXtcclxuICAgIGlmKCF4KSByZXR1cm4geDtcclxuICAgIHJldHVybiB4LnNwbGl0KFwiIFwiKS5qb2luKFwiX1wiKTtcclxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJjb25zdCB0aGVTcG9ydHNEQiA9IHJlcXVpcmUoJ3RoZXNwb3J0c2RiJyk7XG5cbmV4cG9ydCBjb25zdCBnZXRMZWFndWVzTmFtZXMgPSBhc3luYyAoKTogUHJvbWlzZTxBcnJheTxzdHJpbmc+PiA9PiB7XG4gICAgbGV0IGxlYWd1ZU5hbWVzOiBBcnJheTxzdHJpbmc+ID0gW11cbiAgICB0aGVTcG9ydHNEQi5zZXRBcGlLZXkoMilcbiAgICBjb25zdCBsZWFndWVzID0gYXdhaXQgdGhlU3BvcnRzREIuZ2V0TGVhZ3VlTGlzdEJ5Q291bnRyeShcIkJyYXppbFwiLCBcIlNvY2NlclwiKVxuICAgIGxlYWd1ZXMuY291bnRyaWVzLmZvckVhY2goKGVsZW1lbnQ6IHsgc3RyTGVhZ3VlOiBzdHJpbmc7IH0pID0+IHtcbiAgICAgICAgbGVhZ3VlTmFtZXMucHVzaChlbGVtZW50LnN0ckxlYWd1ZSlcbiAgICB9KTtcbiAgICByZXR1cm4gbGVhZ3VlTmFtZXNcbn1cblxuIiwiaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgZ2V0TGVhZ3Vlc05hbWVzIH0gZnJvbSBcIi4vc2VydmljZXMvbGVhZ3Vlc1wiXG5cbmNvbnN0IGNyZWF0ZVRhYnM6IGFueSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBsZWFndWVOYW1lcyA9IGF3YWl0IGdldExlYWd1ZXNOYW1lcygpXG4gICAgY29uc3QgdGFicyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgdGFicy5jbGFzc05hbWUgPSBcInRhYnMtY29udGFpbmVyXCJcblxuICAgIGNvbnN0IHRhYkxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpIFxuICAgIFxuICAgIGxlYWd1ZU5hbWVzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGNvbnN0IGxpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxuICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgICAgICBidG4udGFiSW5kZXggPSBsZWFndWVOYW1lcy5pbmRleE9mKGVsZW1lbnQpXG4gICAgICAgIGJ0bi50ZXh0Q29udGVudCA9IGVsZW1lbnRcbiAgICAgICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoYnRuKVxuICAgICAgICB0YWJMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKSAgICBcbiAgICB9KTtcblxuICAgIHRhYnMuYXBwZW5kQ2hpbGQodGFiTGlzdClcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRhYnMpXG59XG5cbmNyZWF0ZVRhYnMoKVxuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJ1dGlscyIsInNldHRsZSIsImJ1aWxkVVJMIiwiYnVpbGRGdWxsUGF0aCIsInBhcnNlSGVhZGVycyIsImlzVVJMU2FtZU9yaWdpbiIsImNyZWF0ZUVycm9yIiwiY29uZmlnIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXF1ZXN0RGF0YSIsImRhdGEiLCJyZXF1ZXN0SGVhZGVycyIsImhlYWRlcnMiLCJpc0Zvcm1EYXRhIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwiYXV0aCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJBdXRob3JpemF0aW9uIiwiYnRvYSIsImZ1bGxQYXRoIiwiYmFzZVVSTCIsInVybCIsIm9wZW4iLCJtZXRob2QiLCJ0b1VwcGVyQ2FzZSIsInBhcmFtcyIsInBhcmFtc1NlcmlhbGl6ZXIiLCJ0aW1lb3V0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlVVJMIiwiaW5kZXhPZiIsInJlc3BvbnNlSGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsIm9uYWJvcnQiLCJvbmVycm9yIiwib250aW1lb3V0IiwidGltZW91dEVycm9yTWVzc2FnZSIsImlzU3RhbmRhcmRCcm93c2VyRW52IiwiY29va2llcyIsInhzcmZWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInhzcmZDb29raWVOYW1lIiwicmVhZCIsInVuZGVmaW5lZCIsInhzcmZIZWFkZXJOYW1lIiwiZm9yRWFjaCIsInZhbCIsImtleSIsInRvTG93ZXJDYXNlIiwic2V0UmVxdWVzdEhlYWRlciIsImlzVW5kZWZpbmVkIiwiZSIsIm9uRG93bmxvYWRQcm9ncmVzcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvblVwbG9hZFByb2dyZXNzIiwidXBsb2FkIiwiY2FuY2VsVG9rZW4iLCJwcm9taXNlIiwidGhlbiIsImNhbmNlbCIsImFib3J0Iiwic2VuZCIsImJpbmQiLCJBeGlvcyIsIm1lcmdlQ29uZmlnIiwiY3JlYXRlSW5zdGFuY2UiLCJkZWZhdWx0Q29uZmlnIiwiY29udGV4dCIsImluc3RhbmNlIiwicHJvdG90eXBlIiwiZXh0ZW5kIiwiYXhpb3MiLCJjcmVhdGUiLCJpbnN0YW5jZUNvbmZpZyIsImRlZmF1bHRzIiwiQ2FuY2VsIiwiQ2FuY2VsVG9rZW4iLCJpc0NhbmNlbCIsImFsbCIsInByb21pc2VzIiwic3ByZWFkIiwibWVzc2FnZSIsInRoaXMiLCJ0b1N0cmluZyIsIl9fQ0FOQ0VMX18iLCJleGVjdXRvciIsIlR5cGVFcnJvciIsInJlc29sdmVQcm9taXNlIiwidG9rZW4iLCJyZWFzb24iLCJ0aHJvd0lmUmVxdWVzdGVkIiwic291cmNlIiwiYyIsInZhbHVlIiwiSW50ZXJjZXB0b3JNYW5hZ2VyIiwiZGlzcGF0Y2hSZXF1ZXN0IiwiaW50ZXJjZXB0b3JzIiwiYXJndW1lbnRzIiwiY2hhaW4iLCJpbnRlcmNlcHRvciIsInVuc2hpZnQiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInB1c2giLCJsZW5ndGgiLCJzaGlmdCIsImdldFVyaSIsInJlcGxhY2UiLCJtZXJnZSIsImhhbmRsZXJzIiwidXNlIiwiZWplY3QiLCJpZCIsImZuIiwiaCIsImlzQWJzb2x1dGVVUkwiLCJjb21iaW5lVVJMcyIsInJlcXVlc3RlZFVSTCIsImVuaGFuY2VFcnJvciIsImNvZGUiLCJlcnJvciIsIkVycm9yIiwidHJhbnNmb3JtRGF0YSIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiY29tbW9uIiwiYWRhcHRlciIsInRyYW5zZm9ybVJlc3BvbnNlIiwiaXNBeGlvc0Vycm9yIiwidG9KU09OIiwibmFtZSIsImRlc2NyaXB0aW9uIiwibnVtYmVyIiwiZmlsZU5hbWUiLCJsaW5lTnVtYmVyIiwiY29sdW1uTnVtYmVyIiwic3RhY2siLCJjb25maWcxIiwiY29uZmlnMiIsInZhbHVlRnJvbUNvbmZpZzJLZXlzIiwibWVyZ2VEZWVwUHJvcGVydGllc0tleXMiLCJkZWZhdWx0VG9Db25maWcyS2V5cyIsInByb3AiLCJpc09iamVjdCIsImRlZXBNZXJnZSIsImF4aW9zS2V5cyIsImNvbmNhdCIsIm90aGVyS2V5cyIsIk9iamVjdCIsImtleXMiLCJmaWx0ZXIiLCJ2YWxpZGF0ZVN0YXR1cyIsImZucyIsIm5vcm1hbGl6ZUhlYWRlck5hbWUiLCJERUZBVUxUX0NPTlRFTlRfVFlQRSIsInNldENvbnRlbnRUeXBlSWZVbnNldCIsInByb2Nlc3MiLCJjYWxsIiwiaXNBcnJheUJ1ZmZlciIsImlzQnVmZmVyIiwiaXNTdHJlYW0iLCJpc0ZpbGUiLCJpc0Jsb2IiLCJpc0FycmF5QnVmZmVyVmlldyIsImJ1ZmZlciIsImlzVVJMU2VhcmNoUGFyYW1zIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlIiwibWF4Q29udGVudExlbmd0aCIsInRoaXNBcmciLCJhcmdzIiwiQXJyYXkiLCJpIiwiYXBwbHkiLCJlbmNvZGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzZXJpYWxpemVkUGFyYW1zIiwicGFydHMiLCJpc0FycmF5IiwidiIsImlzRGF0ZSIsInRvSVNPU3RyaW5nIiwiam9pbiIsImhhc2htYXJrSW5kZXgiLCJzbGljZSIsInJlbGF0aXZlVVJMIiwid3JpdGUiLCJleHBpcmVzIiwicGF0aCIsImRvbWFpbiIsInNlY3VyZSIsImNvb2tpZSIsImlzTnVtYmVyIiwiRGF0ZSIsInRvR01UU3RyaW5nIiwiaXNTdHJpbmciLCJkb2N1bWVudCIsIm1hdGNoIiwiUmVnRXhwIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicmVtb3ZlIiwibm93IiwidGVzdCIsIm9yaWdpblVSTCIsIm1zaWUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ1cmxQYXJzaW5nTm9kZSIsImNyZWF0ZUVsZW1lbnQiLCJyZXNvbHZlVVJMIiwiaHJlZiIsInNldEF0dHJpYnV0ZSIsInByb3RvY29sIiwiaG9zdCIsInNlYXJjaCIsImhhc2giLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsImNoYXJBdCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVxdWVzdFVSTCIsInBhcnNlZCIsIm5vcm1hbGl6ZWROYW1lIiwiaWdub3JlRHVwbGljYXRlT2YiLCJzcGxpdCIsImxpbmUiLCJ0cmltIiwic3Vic3RyIiwiY2FsbGJhY2siLCJhcnIiLCJpc0Z1bmN0aW9uIiwib2JqIiwibCIsImhhc093blByb3BlcnR5IiwiY29uc3RydWN0b3IiLCJGb3JtRGF0YSIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwicGlwZSIsIlVSTFNlYXJjaFBhcmFtcyIsInByb2R1Y3QiLCJyZXN1bHQiLCJhc3NpZ25WYWx1ZSIsImEiLCJiIiwic3RyIiwiYXBpS2V5IiwibWFrZVVybCIsIngiLCJzZXRBcGlLZXkiLCJhc3luYyIsImdldCIsInRlYW0iLCJzZWFzb24iLCJjb3VudHJ5Iiwic3BvcnQiLCJ1c2VyIiwicm91bmQiLCJkYXkiLCJsZWFndWUiLCJjaGFubmVsIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsInRoZVNwb3J0c0RCIiwibGVhZ3VlTmFtZXMiLCJnZXRMZWFndWVMaXN0QnlDb3VudHJ5IiwiY291bnRyaWVzIiwiZWxlbWVudCIsInN0ckxlYWd1ZSIsInRhYnMiLCJjbGFzc05hbWUiLCJ0YWJMaXN0IiwibGlzdEl0ZW0iLCJidG4iLCJ0YWJJbmRleCIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJib2R5Il0sInNvdXJjZVJvb3QiOiIifQ==